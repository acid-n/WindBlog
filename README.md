# MUSSON Blog ‚Äî Next.js + Django

[![Build Status](https://img.shields.io/github/actions/workflow/status/your-org/your-repo/ci.yml?branch=main)](https://github.com/your-org/your-repo/actions)
[![Coverage Status](https://img.shields.io/codecov/c/github/your-org/your-repo/main.svg)](https://codecov.io/gh/your-org/your-repo)

---

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±–ª–æ–≥-–ø—Ä–æ–µ–∫—Ç: Next.js (TypeScript, Tailwind CSS) + Django 5 (DRF, PostgreSQL, JWT), —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, Docker, CI/CD, –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã, pixel-perfect UI.**

- **Backend:** Django 5, Django REST Framework, PostgreSQL, Pytest, JWT, –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞–¥–º–∏–Ω–∫–∞, API v1.
- **CI/CD:** Docker (Dockerfile –¥–ª—è backend –∏ frontend), GitHub Actions (linting, tests, —Å–±–æ—Ä–∫–∞ –∏ –ø—É—à –æ–±—Ä–∞–∑–æ–≤ –≤ Yandex Container Registry), pre-commit —Ö—É–∫–∏, –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã. –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–µ–ø–ª–æ—è –≤ Yandex Cloud (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets: `YC_SA_JSON_KEY_FOR_CR`, `YC_SA_JSON_KEY_FOR_DEPLOY`, `YC_CLOUD_ID`, `YC_FOLDER_ID` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤ `.github/workflows/ci.yml`).

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Read WP (pixel-perfect)

- –í–Ω–µ—à–Ω–∏–π –≤–∏–¥, —à–∏—Ä–∏–Ω–∞, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, —Ü–≤–µ—Ç–∞, –∞–Ω–æ–Ω—Å—ã, –∫–Ω–æ–ø–∫–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —à—Ä–∏—Ñ—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä—è—é—Ç —Ç–µ–º—É [Read WP](https://themes.pixelwars.org/read-wp/).
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è CSS-–º–æ–¥—É–ª–∏ Tailwind CSS –¥–ª—è pixel-perfect.
- –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–≤–µ—Ä—Å—Ç–∞–Ω—ã –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—É.

## –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–ª–æ–≥–∞

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ UX:**

  - –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ç–µ–º–µ Read WP (https://themes.pixelwars.org/read-wp/).
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Next.js 15.3.1 (App Router) + Tailwind CSS + CSS-–º–æ–¥—É–ª–∏ –¥–ª—è pixel-perfect.
  - SSR/SSG –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript.
  - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å—Ç–∫–∞, SEO-–º–µ—Ç–∞-—Ç–µ–≥–∏ (–≤–∫–ª—é—á–∞—è OpenGraph), –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å `next/image` (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ WebP), –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (aria-–∞—Ç—Ä–∏–±—É—Ç—ã).

- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è:**

  - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è, —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º, —Ü–≤–µ—Ç–∞–º–∏ –∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ–º –∫–∞–∫ –≤ Read WP.
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å CSS-–º–æ–¥—É–ª–µ–º.

- **–ê–Ω–æ–Ω—Å—ã –∏ –ø–æ—Å—Ç—ã:**

  - –ê–Ω–æ–Ω—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 180 —Å–∏–º–≤–æ–ª–∞–º–∏, –≤—Å–µ–≥–¥–∞ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π.
  - –û–±–ª–æ–∂–∫–∞ ‚Äî —à–∏—Ä–æ–∫–∞—è, –Ω–µ–≤—ã—Å–æ–∫–∞—è (1200x400), –∫–∞–∫ –ø–æ—Å—Ç–µ—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `next/image`.
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –∫–∞–∂–¥—ã–π –ø–æ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç–∏–ø—ã –±–ª–æ–∫–æ–≤.
  - –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `media/posts/`.
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∑–∞—Ç–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –ø–æ—Å—Ç—ã, –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç 10 –Ω–æ–≤—ã—Ö.

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞:**

  - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∞–π—Ç–∞ –±–µ—Ä—É—Ç—Å—è –∏–∑ Django-–º–æ–¥–µ–ª–∏ SiteSettings (—á–µ—Ä–µ–∑ API `/api/v1/site-settings`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —á–∞—Å).
  - –í Header –∏ Footer –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ React Query.
  - –î–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ `getBaseUrl`.
    –ü—Ä–∏ SSR –±–µ—Ä—ë—Ç—Å—è `DJANGO_API_URL_SSR` (–æ–±—ã—á–Ω–æ `http://localhost:8000/api/v1`),
    –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî `NEXT_PUBLIC_API_BASE` (–µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∑–∞–¥–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `window.location.origin/api/v1`).
  - –°–µ—Ä–≤–µ—Ä–Ω—ã–µ fetch-–∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏.
    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö–µ–ª–ø–µ—Ä `fetchJson('/api/v1/‚Ä¶')`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Å—Ç–∞–≤–∏—Ç `getBackendOrigin()`.

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

  - –ë—ç–∫–µ–Ω–¥: Django 5, PostgreSQL, DRF, –∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã, JWT, OpenAPI.
  - –§—Ä–æ–Ω—Ç–µ–Ω–¥: Next.js, Tailwind, CSS-–º–æ–¥—É–ª–∏, –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, SSR/SSG, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏, —Å–µ—Ä–≤–∏—Å—ã API.
  - –¢–µ—Å—Ç—ã: Pytest (–±—ç–∫–µ–Ω–¥), Jest/React Testing Library (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥), –ø–æ–∫—Ä—ã—Ç–∏–µ >80% (—Ü–µ–ª—å).
  - CI/CD: Docker, GitHub Actions (linting, tests, build –¥–ª—è backend –∏ frontend), pre-commit —Ö—É–∫–∏ (Python, JS/TS/CSS –∏ –¥—Ä.).

- **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è:**

  - –í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥–∞—Ç—ã ‚Äî –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

- **SEO –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:**
  - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å—Ç–∫–∞, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ (–≤–∫–ª—é—á–∞—è `generateMetadata` –≤ Next.js), `sitemap.xml` (–º–∞—Ä—à—Ä—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `app/sitemap/route.ts` —Å rewrite –≤ `next.config.js`; —Ä–∞–Ω—å—à–µ Next.js 14 —Å–æ–∑–¥–∞–≤–∞–ª –¥—É–±–ª–∏–∫–∞—Ç `/sitemap.xml[[...__metadata_id__]]`, –≤—ã–∑—ã–≤–∞—è —Ü–∏–∫–ª), `robots.txt` (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –±—ç–∫–µ–Ω–¥–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª –∏–∑ –∞–¥–º–∏–Ω–∫–∏). –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ production-—Å—Ä–µ–¥–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞/–ø—Ä–æ–∫—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Nginx) –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤: `/robots.txt` –Ω–∞ –±—ç–∫–µ–Ω–¥, –∞ `/sitemap.xml` –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`next/image` –¥–ª—è WebP, lazy loading), aria-–∞—Ç—Ä–∏–±—É—Ç—ã.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- `frontend/` ‚Äî Next.js 15.3.1, Tailwind CSS, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–µ—Ä–≤–∏—Å—ã, —Ç–µ—Å—Ç—ã (Jest/RTL), Dockerfile, README.md
- `backend/` ‚Äî Django 5, DRF, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (blog, users, seo), –º–∏–≥—Ä–∞—Ü–∏–∏, —Ç–µ—Å—Ç—ã (Pytest), Dockerfile, README.md
- `.github/` ‚Äî CI/CD (GitHub Actions workflow)
- `docker/` ‚Äî `docker-compose.yml` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ (frontend, backend, db), `.env.example` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Docker.
- `docs/UX_UI_STYLE_GUIDE.txt` ‚Äî [UX/UI STYLE GUIDE](docs/UX_UI_STYLE_GUIDE.txt) (pixel-perfect, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, —Å–µ—Ç–∫–∞, —Ü–≤–µ—Ç–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π –∏ —Ç–µ—Å—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:

- `beautifulsoup4`
- `lxml`

–û–Ω–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —á–µ—Ä–µ–∑ `pip install -r requirements.txt`. –ë–µ–∑ –Ω–∏—Ö —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö) –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)

#### Backend

```bash
cd backend
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python 3.11 (–∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ Dockerfile/CI –≤–µ—Ä—Å–∏—é)
python -m venv venv
source venv/bin/activate # –¥–ª—è Linux/macOS –∏–ª–∏ venv\Scripts\activate –¥–ª—è Windows
pip install -r requirements.txt
# –§–∞–π–ª requirements.txt —Å–æ–¥–µ—Ä–∂–∏—Ç dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (flake8, black, isort, pytest-cov)
cp .env.example .env  # –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–Ω–µ Docker)
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
```

#### Frontend

```bash
cd frontend
npm install
cp .env.local.example .env.local  # –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
cd ..
cp .env.local.example .env.local   # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –¥–ª—è e2e (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
npm run dev
```

### Environment variables

SSR uses `DJANGO_API_URL_SSR`, client uses `NEXT_PUBLIC_API_BASE`.

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env`:

- `POSTGRES_DB`, `POSTGRES_USER`, `POSTGRES_PASSWORD` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ë–î
- `DJANGO_SECRET_KEY` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django
- `DJANGO_DEBUG` ‚Äî —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
- `API_URL` ‚Äî –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å API, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- `DJANGO_ALLOWED_HOSTS` ‚Äî —Ö–æ—Å—Ç—ã –¥–ª—è Django
- `CORS_ALLOWED_ORIGINS` ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ CORS

## üîê –ü–∞—Ä–æ–ª—å Postgres –∏ volume
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `db` —Å–æ–∑–¥–∞—ë—Ç –∫–ª–∞—Å—Ç–µ—Ä –≤ —Ç–æ–º–µ `postgres_data`. –ü–∞—Ä–æ–ª—å
–∏–∑ `.env` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∏ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–∂–µ –∏–∑ —ç—Ç–æ–≥
–æ —Ç–æ–º–∞. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å `POSTGRES_PASSWORD`, —Å—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º.
–ù—É–∂–Ω–æ –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å —Ç–æ–º –∫–æ–º–∞–Ω–¥–æ–π `docker compose down -v`, –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `ALTER
USER` –≤–Ω—É—Ç—Ä–∏ –±–∞–∑—ã, —á—Ç–æ–±—ã —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

1.  **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`** –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `POSTGRES_PASSWORD`.
    –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –º–µ–Ω—è–ª—Å—è —Ä–∞–Ω–µ–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `docker compose down -v` –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º.
2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
    ```bash
    docker compose down -v && docker compose up --build
    ```
    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:
    - Frontend: http://localhost:3000
    - Backend: http://localhost:8000

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ backend)

```bash
# –ï—Å–ª–∏ backend –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker):
python backend/manage.py generate_test_data

# –ï—Å–ª–∏ backend –∑–∞–ø—É—â–µ–Ω –≤ Docker:
docker-compose -f docker/docker-compose.yml exec backend python manage.py generate_test_data
```

- –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç 10 –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –±–ª–æ–∫–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- –°—Ç–∞—Ä—ã–µ –ø–æ—Å—Ç—ã –Ω–µ –∑–∞—Ç–∏—Ä–∞—é—Ç—Å—è.

## –¢–µ—Å—Ç—ã

- **Backend:** Pytest, pytest-django. –ó–∞–ø—É—Å–∫: `cd backend && pytest --cov=. -q` –¥–ª—è –≤—ã–≤–æ–¥–∞ –ø–æ–∫—Ä—ã—Ç–∏—è.
- **Frontend:** Jest, React Testing Library. –ó–∞–ø—É—Å–∫: `cd frontend && npm test -- --coverage`.
- **E2E:** Playwright. –ó–∞–ø—É—Å–∫: `pnpm exec playwright test` (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞).
- –¶–µ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è ‚Äî –Ω–µ –º–µ–Ω–µ–µ 95%.
- Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (config/settings_test.py).
- –¢–µ—Å—Ç—ã –∏ –ª–∏–Ω—Ç–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ pre-commit –∏ CI.
- –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
  - `pip install -r backend/requirements.txt`
  - `npm ci --legacy-peer-deps --prefix frontend`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∏ –ª–∏–Ω—Ç–∏–Ω–≥

- –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é:

  - `flake8` –∏ `black --check` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `backend`
  - `isort --check --profile=django` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Ä—è–¥–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
  - `npm run lint` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `frontend`

- **Python:** black, isort, flake8 (–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ pre-commit –∏ CI).
- **JS/TS/CSS –∏ –¥—Ä.:** Prettier, ESLint (–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ pre-commit –∏ CI).
- –î–ª—è `@ts-expect-error` —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã (–º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞) –∏–∑-–∑–∞ –ø—Ä–∞–≤–∏–ª–∞ ESLint.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Frontend README](frontend/README.md)
- [Backend README](backend/README.md)
- OpenAPI/Swagger: `/api/docs/` (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ backend)
- [UX/UI STYLE GUIDE](docs/UX_UI_STYLE_GUIDE.txt)

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏

- Pixel-perfect, SSR/SSG, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å, SEO, aria, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏
- Masonry/blog-grid, –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤ –º–µ–Ω—é, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã
- JWT, REST API (–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è CUD –æ–ø–µ—Ä–∞—Ü–∏–π), —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ (`/s/<code>/`)
- CI/CD (GitHub Actions), pre-commit (Python, JS/TS), code review, Conventional Commits

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

1.  –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `POSTGRES_PASSWORD`.
    –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –º–µ–Ω—è–ª—Å—è —Ä–∞–Ω–µ–µ, —É–¥–∞–ª–∏—Ç–µ —Ç–æ–º –ë–î –∫–æ–º–∞–Ω–¥–æ–π `docker compose down -v`.
    –í –∫–∞—Ç–∞–ª–æ–≥–µ `frontend` —Å–æ–∑–¥–∞–π—Ç–µ `.env.local` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.local.example`.
3.  –í—ã–ø–æ–ª–Ω–∏—Ç–µ `docker compose up --build` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.
4.  –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000).
5.  –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: `docker-compose exec backend python manage.py generate_test_data`.

---

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è backend –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**

   ```bash
   docker-compose exec backend python manage.py migrate
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Django:**

   ```bash
   docker-compose exec backend python manage.py createsuperuser
   ```

   –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–ª–æ–≥–∏–Ω, email, –ø–∞—Ä–æ–ª—å).

3. **–î–æ–±–∞–≤—å—Ç–µ Site –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è django.contrib.sites –∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ "Site matching query does not exist"):**

   ```bash
   docker-compose exec backend python manage.py shell -c "from django.contrib.sites.models import Site; Site.objects.create(domain='localhost:8000', name='localhost')"
   ```

   –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç/–¥–æ–º–µ–Ω ‚Äî –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π.

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞–¥–º–∏–Ω–∫–∏:**
   - http://localhost:8000/admin/

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ (–∫–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏)

- `frontend/src/app/` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã Next.js App Router.
- `frontend/src/components/` ‚Äî React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- `frontend/src/services/api.ts` ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API.
- `frontend/next.config.js` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js (–≤–∫–ª—é—á–∞—è `remotePatterns` –¥–ª—è `next/image`).
- `backend/config/settings.py` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django.
- `backend/blog/views.py` ‚Äî ViewSets –¥–ª—è API –±–ª–æ–≥–∞ (—Å `IsAuthenticatedOrReadOnly`).
- `backend/blog/management/commands/generate_test_data.py` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤.
- `.github/workflows/ci.yml` ‚Äî CI/CD –ø–∞–π–ø–ª–∞–π–Ω (–≤–∫–ª—é—á–∞–µ—Ç —Å–±–æ—Ä–∫—É –∏ –ø—É—à Docker-–æ–±—Ä–∞–∑–æ–≤, –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ –¥–µ–ø–ª–æ—é).
- `docker/docker-compose.yml` ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤.
- `backend/Dockerfile`, `frontend/Dockerfile` ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ –æ–±—Ä–∞–∑–æ–≤.

## –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ –≥–∞–π–¥–ª–∞–π–Ω—ã

- –í—Å–µ —Å—Ç–∏–ª–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç [UX/UI STYLE GUIDE](docs/UX_UI_STYLE_GUIDE.txt).
- Pixel-perfect —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ Read WP.
- –ö–æ–¥ –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ (—Ü–µ–ª—å >80%), –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–∏–Ω—Ç–µ—Ä—ã –∏ CI.

## FAQ / –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- **–û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π (Docker):** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å `db` —É—Å–ø–µ–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –ø–µ—Ä–µ–¥ `backend`. `docker-compose.yml` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `depends_on`, –Ω–æ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è wait-for-it —Å–∫—Ä–∏–ø—Ç –≤ entrypoint –±—ç–∫–µ–Ω–¥–∞.
- **–û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π (–ª–æ–∫–∞–ª—å–Ω–æ):** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `.env` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `python manage.py migrate`.
- **–ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `MEDIA_URL`/`MEDIA_ROOT` –≤ Django –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `media/` —Ç–æ–º–∞ –≤ Docker.
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `media/posts/` –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ (–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–æ–º—É –≤ Docker).
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—É—Å–∫–æ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`npm install`). –í Docker –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `NEXT_PUBLIC_API_BASE` –∏ `DJANGO_API_URL_SSR` –±–µ—Ä—É—Ç—Å—è –∏–∑ `frontend/.env.local`. –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–æ —Å—Ç–∏–ª—è–º–∏ Tailwind CSS —É–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫–∏ `.next` –∏ `node_modules`, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `npm install`.
- **ESLint/Prettier –≤ pre-commit:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `frontend/` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm install`), –≤–∫–ª—é—á–∞—è `eslint-config-next` –∏ –¥—Ä—É–≥–∏–µ –ø–ª–∞–≥–∏–Ω—ã ESLint, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ `additional_dependencies` –≤ `.pre-commit-config.yaml`.
- **–û—à–∏–±–∫–∞ ESLint `ban-ts-comment`:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@ts-expect-error` –≤–º–µ—Å—Ç–æ `@ts-ignore`.
- **–í–æ–ø—Ä–æ—Å—ã:** musson@support.ru

## Git-–≥–∏–≥–∏–µ–Ω–∞

- –ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞—Ä—Ö–∏–≤—ã, –ª–æ–≥–∏) –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–ø–∫—É `media-dev/` ‚Äî –æ–Ω–∞ –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ Git.
- `.gitignore` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `*.png`, `*.jpg`, `*.webp`, `__pycache__`, –ª–æ–≥–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

## –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

- MIT License
- –í–æ–ø—Ä–æ—Å—ã: musson@support.ru

---

–î–ª—è –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –∏ –Ω–æ–≤—ã—Ö —Ñ–∏—á ‚Äî —Å–º. [CONTRIBUTING.md] –∏–ª–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.
